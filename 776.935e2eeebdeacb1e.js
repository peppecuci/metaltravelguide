"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[776],{3776:(A,d,o)=>{o.r(d),o.d(d,{UsersModule:()=>C});var a=o(6895),c=o(9965),e=o(8256);let p=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-users"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[c.lC]}),s})();var u=o(3726),m=o(7185);function U(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"td")(1,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,l=e.oxw();return e.KtG(l.enable(i.id))}),e._uU(2,"Enable"),e.qZA()()}}function f(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"td")(1,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,l=e.oxw();return e.KtG(l.disable(i.id))}),e._uU(2,"Disable"),e.qZA()()}}function _(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,U,3,0,"td",4),e.YNc(6,f,3,0,"td",4),e.TgZ(7,"td")(8,"a",5),e.NdJ("click",function(){const l=e.CHM(t).$implicit,Z=e.oxw();return e.KtG(Z.delete(l.id))}),e._UZ(9,"i",6),e.qZA()()()}if(2&s){const t=r.$implicit;e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.nickname),e.xp6(1),e.Q6J("ngIf",!t.enabled),e.xp6(1),e.Q6J("ngIf",t.enabled)}}function g(s,r){if(1&s&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._uU(3,"User details"),e.qZA(),e._UZ(4,"img",4),e.TgZ(5,"div",5)(6,"h5",6),e._uU(7),e.qZA(),e.TgZ(8,"p",7),e._UZ(9,"span"),e.qZA()(),e.TgZ(10,"div",8)(11,"small"),e._uU(12),e.qZA()()()()),2&s){const t=e.oxw();e.xp6(4),e.s9C("src",t.User.image,e.LSH),e.s9C("alt",t.User.nickname),e.xp6(3),e.Oqu(t.User.nickname),e.xp6(2),e.Gre("fs-4 fi fi-",t.User.countryIso.toLowerCase(),""),e.xp6(3),e.hij("Places added: ",t.User.places.length,"")}}const b=[{path:"",component:p,children:[{path:"admin",component:(()=>{class s{constructor(t,n,i){this.usersService=t,this.router=n,this.toastr=i,this.users=[]}get Users(){return this.users}ngOnInit(){this.loadUsers()}loadUsers(){this.usersService.readAll().subscribe(t=>this.users=t)}enable(t){this.usersService.enable(t).subscribe(()=>{this.loadUsers()},()=>{this.toastr.error("Error enabling user","Error")})}disable(t){this.usersService.disable(t).subscribe(()=>{this.loadUsers()},()=>{this.toastr.error("Error disabling user","Error")})}delete(t){confirm("Are you sure you want to delete this User?")&&this.usersService.delete(t).subscribe(()=>{this.loadUsers()},()=>{this.toastr.error("Error deleting user","Error")})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.f),e.Y36(c.F0),e.Y36(m._W))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-users-list"]],decls:14,vars:1,consts:[[1,"table-responsive"],[1,"table","table-striped","table-sm"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn",3,"click"],[1,"bi","bi-x-circle-fill","text-danger"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),e._uU(5,"E-mail"),e.qZA(),e.TgZ(6,"th",2),e._uU(7,"Nickname"),e.qZA(),e.TgZ(8,"th",2),e._uU(9,"Status"),e.qZA(),e.TgZ(10,"th",2),e._uU(11,"Delete"),e.qZA()()(),e.TgZ(12,"tbody"),e.YNc(13,_,10,4,"tr",3),e.qZA()()()),2&t&&(e.xp6(13),e.Q6J("ngForOf",n.Users))},dependencies:[a.sg,a.O5]}),s})()},{path:":id",component:(()=>{class s{constructor(t,n){this.userService=t,this.route=n}get User(){return this.user}ngOnInit(){this.userId=Number(this.route.snapshot.paramMap.get("id")),this.userService.readOne(this.userId).subscribe(t=>this.user=t)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.f),e.Y36(c.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-user-details"]],decls:1,vars:1,consts:[["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"card","text-center",2,"width","16rem"],[1,"card-header","mb-2"],["loading","lazy",1,"card-img-top","rounded-circle",2,"width","150px","margin","auto",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-muted"]],template:function(t,n){1&t&&e.YNc(0,g,13,7,"div",0),2&t&&e.Q6J("ngIf",n.User)},dependencies:[a.O5]}),s})()}]}];let x=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[c.Bz.forChild(b),c.Bz]}),s})(),C=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[a.ez,x]}),s})()}}]);